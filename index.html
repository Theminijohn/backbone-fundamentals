<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>Backbone Fundamentals</title>
</head>
<body>

  <div id="todo"></div>

  <script type="text/template" id="item-template">
    <div>
      <input id="todo_complete" type="checkbox" <%= completed ? 'checked="checked"' : '' %>>
      <%= title %>
    </div>
  </script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="http://documentcloud.github.com/underscore/underscore-min.js"></script>
<script src="http://documentcloud.github.com/backbone/backbone-min.js"></script>
<script>



var TodosCollection = new Backbone.Collection();

// TodosCollection.add([
//     { id: 1, title: 'go to Jamaica.', completed: false },
//     { id: 2, title: 'go to China.', completed: false },
//     { id: 3, title: 'go to Disneyland.', completed: true }
// ]);

// // we can listen for add/change/remove events
// TodosCollection.on("add", function(model) {
//   console.log("Added " + model.get('title'));
// });

// TodosCollection.on("remove", function(model) {
//   console.log("Removed " + model.get('title'));
// });

// TodosCollection.on("change:completed", function(model) {
//   console.log("Completed " + model.get('title'));
// });

// TodosCollection.set([
//     { id: 1, title: 'go to Jamaica.', completed: true },
//     { id: 2, title: 'go to China.', completed: false },
//     { id: 4, title: 'go to Disney World.', completed: false }
// ]);



// If you need to simply replace the entire content of the collection then
// Collection.reset() can be used:

TodosCollection.on("reset", function() {
  console.log("Collection reset.");
});

TodosCollection.add([
  { title: 'go to Jamaica.', completed: false },
  { title: 'go to China.', completed: false },
  { title: 'go to Disneyland.', completed: true }
]);

console.log('Collection size: ' + TodosCollection.length); // Collection size: 3

TodosCollection.reset([
  { title: 'go to Cuba.', completed: false }
]);

console.log('Collection size: ' + TodosCollection.length); // Collection size: 1

var todo = new Backbone.Model();
var todos = new Backbone.Collection([todo])
.on('reset', function(todos, options) {
  console.log(options.previousModels);
  console.log([todo]);
  console.log(options.previousModels[0] === todo); // true
});
todos.reset([]);


</script>
</body>
</html>