<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>Backbone Fundamentals</title>
</head>
<body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="http://documentcloud.github.com/underscore/underscore-min.js"></script>
<script src="http://documentcloud.github.com/backbone/backbone-min.js"></script>
<script>

// Backbone Model

/* If you want to receive a notification when a Backbone model changes you can
bind a listener to the model for its change event. A convenient place to add
listeners is in the initialize() function as shown below: */

var Todo = Backbone.Model.extend({
  // Default todo attribute values
  defaults: {
    title: '',
    completed: false
  },
  initialize: function() {
    console.log('This model has been initialized');
    this.on('change:title', function(){
      console.log('- Title Value for this model have changed.')
    });
  },

  setTitle: function(newTitle){
    this.set({ title: newTitle });
  }
});

var myTodo = new Todo();

myTodo.set('title', 'The listener is triggered whenever an attribute value changes.');
console.log('Title has changed: ' + myTodo.get('title'));

myTodo.set('completed', true);
console.log('Completed has changed: ' + myTodo.get('completed'));

myTodo.set({
  title: 'Changing more than one attribute at the same time only triggers the listener once.',
  completed: true
});


/* You can also listen for changes to individual attributes in a Backbone model.
In the following example, we log a message whenever a specific attribute
(the title of our Todo model) is altered. */
myTodo.set('title', 'check what\'s logged');
myTodo.setTitle('Go fishing on Sunday');
// But, this change type is not observed, so no listener is triggered:
myTodo.set('completed', true);
console.log('Todo set as completed: ' + myTodo.get('completed'));


</script>
</body>
</html>